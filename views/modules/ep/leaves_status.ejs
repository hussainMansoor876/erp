<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS"
        crossorigin="anonymous">
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <title>Employee Portal</title>
    <style>
        .row {
            margin-bottom: 10px;
        }
    </style>
</head>

<style>
    .square {
  height: 50px;
  width: 50px;
  background-color: transparent;
  border: 1px solid black;
  
}
.square1 {
  height: 100px;
  width: 600px;
  background-color: transparent;
  border: 1px solid black;
}

#customers {
  font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
  border-collapse: collapse;
  width: 100%;
  height: 10px;
  border: 1px solid black;
  border-color: 1px solid black;
}

#customers td, #customers th {
  border: 1px solid black;
  padding: 8px;
  text-align:left;
  font-size: 20px;
}

#customers tr:nth-child(even){background-color: white;}

#customers tr:hover {background-color: white;}

#customers th {
  padding-top: 12px;
  padding-bottom: 12px;
  text-align: left;
  background-color: white;
  color: black;
  font-size: 20px;
}


#customers1 {
  font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
  border-collapse: collapse;
  width: 50%;
  height: 70px;
  border: 1px solid black;
  border-color: 1px solid black;
}

#customers1 td, #customers1 th {
  border: 1px solid black;
  padding: 8px;
  text-align:left;
}

#customers1 tr:nth-child(even){background-color: white;}

#customers1 tr:hover {background-color: white;}

#customers1 th {
  padding-top: 12px;
  padding-bottom: 12px;
  text-align: left;
  background-color: white;
  color: black;
}





#customers2 {
  font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
  border-collapse: collapse;
  width: 50%;
  height: 70px;
  border: 1px solid black;
  border-color: 1px solid black;
  margin-left: 360px;
  margin-top: -3px;
}

#customers2 td, #customers2 th {
  border: 1px solid black;
  padding: 8px;
  text-align:right;

}

#customers2 tr:nth-child(even){background-color: white;}

#customers2 tr:hover {background-color: white;}

#customers2 th {
  padding-top: 12px;
  padding-bottom: 12px;
  text-align: left;
  background-color: white;
  color: black;
}





#customers3 {
  font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
  border-collapse: collapse;
  width: 50%;
  height: 70px;
  border: 1px solid black;
  border-color: 1px solid black;
  margin-left: -1px;
  margin-top: -3px;
}

#customers3 td, #customers3 th {
  border: 1px solid black;
  padding: 8px;
  text-align:right;

}

#customers3 tr:nth-child(even){background-color: white;}

#customers3 tr:hover {background-color: white;}

#customers3 th {
  padding-top: 12px;
  padding-bottom: 12px;
  text-align: left;
  background-color: white;
  color: black;
}




#customers4 {
  font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
  border-collapse: collapse;
  width: 50%;
  height: 70px;
  border: 1px solid black;
  border-color: 1px solid black;
  margin-left: 360px;
  margin-top: -3px;
}

#customers4 td, #customers4 th {
  border: 1px solid black;
  padding: 8px;
  text-align:right;

}

#customers4 tr:nth-child(even){background-color: white;}

#customers4 tr:hover {background-color: white;}

#customers4 th {
  padding-top: 12px;
  padding-bottom: 12px;
  text-align: left;
  background-color: white;
  color: black;
}
</style>

<body onload="load()">

    <div class="container">
        <div class="jumbotron" style='padding:2em'>
            <h2 class='text-center'>Employee Portal</h2>
        </div>
        <div class="container">
            <div class="row">
                <div class="col-md-2"></div>
                <div class="col-md-8">
                    <div class="card">
                        <div class="card-header">
                            <h1 id="date"></h1>
                            <h4>Apply for a Leave</h4>
                        </div>
                        <div class="card-body">
                            <!-- header -->
                            <div style="display: flex; padding: 5px">
                                <div style="flex: 1; text-align: left">
                                    <img src="Images/Greeshams Logo.png" alt="" width="300px;">

                                </div>

                            </div>


                            <!-- end of header -->


                            <div style="margin-top:-40px;">
                                <div>
                                    <h2 style=" font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif; text-align:center; margin-top: 100px; margin-right: 160px; font-size: 18px; text-decoration: underline; width:100%;   ">
                                    LEAVE APPLICATION FORM</h2>
                                </div>



                                <br>
                                <br>
                                <br>
                                <div style="text-align:center;">
                                    <h2 style="text-align:left; font-size: 20px; margin-right: 300px; margin-top: -30px;  font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif; ">Employee Name : _________________</h2>
                                    <h2 style="text-align: center; font-size: 20px; margin-left: -60px; margin-top: -30px; font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif; ">Division : _________________</h2>
                                    <h2 style="text-align:center; font-size: 20px; margin-left: 670px; margin-top: -25px; font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif; ">Departement : _________________</h2>
                                </div>

                                <br>
                                <br>
                                <div style="text-align:center;">
                                    <h2 style="text-align:left; font-size: 20px; margin-right: 300px; margin-top: -30px; font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif; ">Section : _____________________</h2>
                                    <h2 style="text-align: center; font-size: 20px; margin-left: -37px; margin-top: -30px; font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif; ">Designation : _________________</h2>
                                    <h2 style="text-align:center; font-size: 20px; margin-left: 700px; margin-top: -25px; font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif; ">Employee Code # : _________________</h2>
                                </div>

                                <br>
                                <br>


                                <div style="text-align:center;">
                                    <h2 style="text-align:left; font-size: 20px; margin-right: 300px; margin-top: -30px; font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif; ">Date Of Appointement : ________________________</h2>
                                    <h2 style="text-align:left; font-size: 20px; margin-left: 410px;  margin-top: -30px; font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif; ">Application Submission Date : ____________________</h2>

                                </div>

                                <br>


                                <div style="text-align:center;">
                                    <h2 style="text-align:left; font-size: 20px; margin-right: 100px; margin-top: -10px; font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif; ">Leave Required From : ________________to_______________day(s)</h2>


                                </div>
                                <br>

                                <table id="customers">
                                    <tr>
                                        <th>Leave Type</th>
                                        <th>Balance</th>
                                        <th>Applied For</th>
                                        <th>Approved</th>
                                    </tr>



                                    <tr>
                                        <td>Casual</td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                    </tr>

                                    <tr>
                                        <td>Sick</td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                    </tr>


                                    <tr>
                                        <td>Earned / Annual</td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                    </tr>


                                    <tr>
                                        <td>TOTAL LEAVES (24)</td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                    </tr>




                                </table>




                                <br>
                                <br>



                                <div style="text-align:center;">
                                    <h2 style="text-align:left; font-size: 20px; margin-right: 100px; margin-top: -10px; font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;  text-decoration: underline;">Purpose Of Leave</h2>


                                </div>

                                <table id="customers">




                                    <tr>
                                        <td></td>

                                    </tr>

                                    <tr>
                                        <td></td>

                                    </tr>


                                    <tr>
                                        <td></td>

                                    </tr>


                                    <tr>
                                        <td></td>

                                    </tr>


                                </table>

                                <br>



                                <div style="display: flex">
                                    <div style="flex: 1">
                                        <p style="font-family:Cambria, Cochin, Georgia, Times, 'Times New Roman', serif; margin-left:10px; font-weight: bold; font-size: 20px;">Signature of Department Head</p>
                                        <div style="width: 90%; margin: 10px; border: 1px solid black; height: 70px;">

                                        </div>
                                    </div>
                                    <div style="flex: 1">
                                        <p style=" font-family:Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;margin-left:10px; font-weight: bold; font-size: 20px;">Signature of the Applicant</p>
                                        <div style="width: 90%; margin: 10px; border: 1px solid black; height: 70px">

                                        </div>
                                    </div>
                                </div>










                                <div style="display: flex">
                                    <div style="flex: 1">
                                        <p style="font-family:Cambria, Cochin, Georgia, Times, 'Times New Roman', serif; margin-left:10px; font-weight: bold; font-size: 20px;">Signature of Director</p>
                                        <div style="width: 90%; margin: 10px; border: 1px solid black; height: 70px;">

                                        </div>
                                    </div>
                                    <div style="flex: 1">
                                        <p style=" font-family:Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;margin-left:10px; font-weight: bold; font-size: 20px;">Admin Department Signature</p>
                                        <div style="width: 90%; margin: 10px; border: 1px solid black; height: 70px">

                                        </div>
                                    </div>
                                </div>
                                <!-- footer -->
                                <div style="display: flex; padding: 5px">
                                    <div style="flex: 1; text-align: right">
                                        <img src="./Quality Assured Logo.PNG" alt="" width="300px;">

                                    </div>

                                </div>


                                <!-- end of Footer -->

                            </div>
                        </div>

                    </div>
                    <div class="col-md-2"></div>
                </div>
            </div>
        </div>
        <script>
            var employee = null


            function add_dates() {

                let d_i = document.getElementById('dates_input');
                let d_o = document.getElementById('dates_output');
                let d_s = document.getElementById('dates_select');
                let obj = [];
                if (d_s.value === '') {
                    alert('please select a date first');
                } else {
                    if (d_i.value === '') {
                        obj = [d_s.value];

                    } else {
                        obj = JSON.parse(d_i.value);
                        obj.push(d_s.value);
                    }
                    d_i.value = JSON.stringify(obj);
                    d_o.innerHTML += `<p>` + d_s.value + `</p>`
                }

            }
            var days

            function checkinput(val) {
                // console.log('==>', employee)
                document.getElementById('cl').checked = false
                document.getElementById('sl').checked = false
                if (val.value > days) {
                    swal(`You Have ${days} Days Leaves Remaining!`)
                    val.value = days
                }
            }

            function print_leave() {
                let str = `<h1>hello</h1>`;
                let old_window = document;
                document = str;
                print();

                return false;
            }

            function checkBoxed(val) {
                // console.log('==>',val.checked)
                // val.disabled = true
                if (days == 1 && val.checked) {
                    if (val.id == 'sl') {
                        document.getElementById('cl').disabled = true
                    } else {
                        document.getElementById('sl').disabled = true
                    }
                } else {
                    document.getElementById('cl').disabled = false
                    document.getElementById('sl').disabled = false
                }
            }

            function load() {
                console.log('happening..');
                var xhttp = new XMLHttpRequest();
                xhttp.onreadystatechange = function () {
                    if (this.readyState == 4 && this.status == 200) {
                        employee = JSON.parse(this.responseText).employee;
                        days = employee.sl + employee.cl + employee.el
                        document.getElementById('sl_input').style.display = 'inline';
                        document.getElementById('cl_input').style.display = 'block';

                        if (employee.sl < 1) {
                            document.getElementById('sl_input').style.display = 'none';

                        }

                        if (employee.cl < 1) {
                            document.getElementById('cl_input').style.display = 'none';

                        }

                    }
                };
                xhttp.open("GET", "./get_loggedin_employee", true);
                xhttp.send();
            }
        </script>
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
            crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut"
            crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k"
            crossorigin="anonymous"></script>
</body>

</html>